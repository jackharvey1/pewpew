{"version":3,"sources":["webpack:///webpack/bootstrap 7f581ab073ab17c99a02","webpack:///./src/public/js/game.js","webpack:///./src/common/config.js","webpack:///./src/public/js/client.js","webpack:///./src/public/js/play-state.js","webpack:///./src/public/js/utils.js","webpack:///./src/public/js/scoreboard.js","webpack:///./src/public/js/player.js","webpack:///./src/public/js/health.js"],"names":["config","require","game","module","exports","Phaser","Game","Math","min","window","innerWidth","world","width","innerHeight","height","AUTO","PlayState","state","add","shot","diameter","velocity","delay","player","healthBar","padding","x","y","gravity","utils","scoreboard","socket","init","io","connect","location","host","getCurrentState","on","gameState","Object","keys","forEach","playerId","addPlayer","coordinates","id","beginClientTick","beginListeningToServer","latency","updatePlayerLatency","timeSent","currentUnixTime","Date","emit","setInterval","msg","facing","moving","sprite","body","removePlayer","handleServerTick","data","createShot","time","direction","handleCorrectionData","players","faceLeft","faceRight","moveLeft","stop","moveRight","xDiff","yDiff","xDiffCritical","abs","yDiffCritical","extrapolateOrdinate","transmitShot","client","Player","cursors","jumpButton","fireButton","scoreboardButton","prototype","preload","stage","disableVisibilityChange","setBounds","load","spritesheet","image","create","backgroundColor","setUpCameraFollow","call","createClouds","instantiatePhysics","setUpInputs","camera","follow","deadzone","Rectangle","i","random","bounds","physics","startSystem","Physics","ARCADE","arcade","input","keyboard","createCursorKeys","addKey","Keyboard","SPACEBAR","Z","Q","onDown","show","onUp","hide","update","left","isDown","right","animateWalking","justPressed","jump","fire","newPlayer","destroy","bullet","enable","anchor","setTo","setSize","allowGravity","oldOrdinate","ordinateVelocity","timeDifference","activeClass","board","document","getElementById","className","replace","insertAdjacentHTML","generateRow","row","parentNode","removeChild","latencyElement","getElementsByClassName","textContent","Health","hasDoubleJumped","animations","collideWorldBounds","nextFireTime","health","addChild","bar","onFloor","play","frame","scale","points","make","graphics","beginFill","calculateBarColour","drawRect","endFill","redComponent","round","greenComponent","toString","toUpperCase","parseInt"],"mappings":"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","file":"main.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7f581ab073ab17c99a02","'use strict';\n\nconst config = require('../../common/config');\nconst game = module.exports = new Phaser.Game(\n    Math.min(window.innerWidth, config.world.width),\n    Math.min(window.innerHeight, config.world.height),\n    Phaser.AUTO\n);\n\nconst PlayState = require('./play-state');\n\ngame.state.add('play', PlayState, true);\n\n\n\n// WEBPACK FOOTER //\n// ./src/public/js/game.js","module.exports.world = {\n    width: 4096,\n    height: 2160\n};\n\nmodule.exports.shot = {\n    diameter: 16,\n    velocity: 1000,\n    delay: 100\n};\n\nmodule.exports.player = {\n    width: 32,\n    height: 48,\n    velocity: 500\n};\n\nmodule.exports.healthBar = {\n    padding: 12,\n    height: 3,\n    get x () {\n        return -module.exports.player.width / 2;\n    },\n    get y () {\n        return (-module.exports.player.height / 2) - this.padding;\n    },\n    get width () {\n        return module.exports.player.width;\n    }\n};\n\nmodule.exports.gravity = 1000;\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/config.js","'use strict';\n\nconst game = require('./game');\nconst utils = require('./utils');\nconst scoreboard = require('./scoreboard');\nlet socket;\n\nmodule.exports.init = function () {\n    socket = io.connect(window.location.host);\n    const state = game.state.getCurrentState();\n\n    socket.on('server:player-list', (gameState) => {\n        Object.keys(gameState).forEach((playerId) => {\n            state.addPlayer(playerId, gameState[playerId].coordinates);\n            scoreboard.addPlayer(playerId);\n        });\n    });\n\n    socket.on('server:player-id', (playerId) => {\n        state.player.id = playerId;\n        scoreboard.addPlayer(playerId);\n        beginClientTick();\n        beginListeningToServer();\n    });\n\n    socket.on('server:player-latency', ({ id, latency }) => {\n        scoreboard.updatePlayerLatency(id, latency);\n    });\n\n    socket.on('ding', (timeSent) => {\n        const currentUnixTime = +(new Date());\n        socket.emit('dong', currentUnixTime - timeSent);\n    });\n};\n\nfunction beginClientTick() {\n    const player = game.state.getCurrentState().player;\n\n    setInterval(() => {\n        const msg = {\n            facing: player.facing,\n            moving: player.moving,\n            velocity: {\n                x: player.sprite.body.velocity.x || 0,\n                y: player.sprite.body.velocity.y || 0\n            },\n            coordinates: {\n                x: player.sprite.x,\n                y: player.sprite.y\n            }\n        };\n        socket.emit('client:tick', msg);\n    }, 10);\n}\n\nfunction beginListeningToServer() {\n    const state = game.state.getCurrentState();\n\n    socket.on('server:player-connected', (playerId) => {\n        state.addPlayer(playerId);\n        scoreboard.addPlayer(playerId);\n    });\n\n    socket.on('server:player-disconnected', (playerId) => {\n        state.removePlayer(playerId);\n        scoreboard.removePlayer(playerId);\n    });\n\n    socket.on('server:tick', handleServerTick);\n\n    socket.on('server:shot', (data) => {\n        state.createShot(data.x, data.y, data.time, data.direction);\n    });\n\n    socket.on('server:corrections', handleCorrectionData);\n}\n\nfunction handleServerTick(data) {\n    const state = game.state.getCurrentState();\n    const players = state.players;\n\n    Object.keys(data).forEach((id) => {\n        if (players[id]) {\n            players[id].sprite.body.velocity.x = data[id].velocity.x;\n            players[id].sprite.body.velocity.y = data[id].velocity.y;\n\n            if (data[id].facing === 'left') {\n                players[id].faceLeft();\n            } else if (data[id].facing === 'right') {\n                players[id].faceRight();\n            }\n\n            if (data[id].moving === 'left') {\n                players[id].moveLeft();\n            } else if (data[id].moving === '') {\n                players[id].stop();\n            } else if (data[id].moving === 'right') {\n                players[id].moveRight();\n            }\n        }\n    });\n}\n\nfunction handleCorrectionData(data) {\n    const state = game.state.getCurrentState();\n    const players = state.players;\n\n    Object.keys(data).forEach((id) => {\n        if (players[id]) {\n            const xDiff = players[id].sprite.x - data[id].coordinates.x;\n            const yDiff = players[id].sprite.y - data[id].coordinates.y;\n            const xDiffCritical = Math.abs(xDiff) > 10;\n            const yDiffCritical = Math.abs(yDiff) > 10;\n\n            if (xDiffCritical) {\n                players[id].sprite.x = utils.extrapolateOrdinate(\n                    data[id].coordinates.x,\n                    data[id].velocity.x,\n                    data[id].time\n                );\n            } else {\n                players[id].sprite.x -= xDiff / 5;\n            }\n\n            if (yDiffCritical) {\n                players[id].sprite.y = utils.extrapolateOrdinate(\n                    data[id].coordinates.y,\n                    data[id].velocity.y,\n                    data[id].time\n                );\n            } else {\n                players[id].sprite.y -= yDiff / 5;\n            }\n        }\n    });\n}\n\nmodule.exports.transmitShot = function (x, y, direction) {\n    socket.emit('client:shot', { x, y, direction });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/public/js/client.js","'use strict';\n\nconst game = require('./game');\nconst utils = require('./utils');\nconst config = require('../../common/config');\nconst client = require('./client');\nconst scoreboard = require('./scoreboard');\nconst Player = require('./player');\n\nconst PlayState = function () {\n    return this;\n};\n\nlet cursors,\n    jumpButton,\n    fireButton,\n    scoreboardButton;\n\nPlayState.prototype.preload = function () {\n    this.game.stage.disableVisibilityChange = true;\n    this.game.world.setBounds(0, 0, config.world.width, config.world.height);\n    this.game.load.spritesheet('player', 'assets/player.png', config.player.width, config.player.height);\n    this.game.load.image('cloud', 'assets/cloud.png', 100, 60);\n    this.game.load.image('shot', 'assets/shot.png', config.shot.diameter, config.shot.diameter);\n\n    scoreboard.init();\n};\n\nPlayState.prototype.create = function () {\n    this.player = new Player();\n    this.players = {};\n    this.game.stage.backgroundColor = 0x4488CC;\n\n    setUpCameraFollow.call(this);\n    client.init();\n    createClouds.call(this);\n    instantiatePhysics.call(this);\n    setUpInputs.call(this);\n};\n\nfunction setUpCameraFollow() {\n    this.game.camera.follow(this.player.sprite);\n    this.game.camera.deadzone = new Phaser.Rectangle(\n        200,\n        0,\n        window.innerWidth - 400,\n        window.innerHeight - 200\n    );\n}\n\nfunction createClouds() {\n    for (let i = 0; i < 10; i++) {\n        const x = Math.random() * this.game.world.bounds.width;\n        const y = Math.random() * (this.game.world.bounds.height - 600);\n        this.game.add.image(x, y, 'cloud');\n    }\n}\n\nfunction instantiatePhysics() {\n    this.game.physics.startSystem(Phaser.Physics.ARCADE);\n    this.game.physics.arcade.gravity.y = config.gravity;\n}\n\nfunction setUpInputs() {\n    cursors = this.game.input.keyboard.createCursorKeys();\n    jumpButton = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);\n    fireButton = this.game.input.keyboard.addKey(Phaser.Keyboard.Z);\n    scoreboardButton = this.game.input.keyboard.addKey(Phaser.Keyboard.Q);\n    scoreboardButton.onDown.add(scoreboard.show, this);\n    scoreboardButton.onUp.add(scoreboard.hide, this);\n}\n\nPlayState.prototype.update = function () {\n    if (cursors.left.isDown) {\n        this.player.moveLeft();\n    } else if (cursors.right.isDown) {\n        this.player.moveRight();\n    } else {\n        this.player.stop();\n    }\n\n    this.player.animateWalking();\n\n    if (jumpButton.justPressed()) {\n        this.player.jump();\n    }\n\n    if (fireButton.isDown) {\n        this.player.fire();\n    }\n};\n\nPlayState.prototype.addPlayer = function (playerId, coordinates) {\n    const newPlayer = new Player(playerId);\n\n    if (coordinates) {\n        newPlayer.sprite.x = coordinates.x;\n        newPlayer.sprite.y = coordinates.y;\n    }\n\n    this.players[playerId] = newPlayer;\n};\n\nPlayState.prototype.removePlayer = function (playerId) {\n    this.players[playerId].sprite.destroy();\n    delete this.players[playerId];\n};\n\nPlayState.prototype.createShot = function (x, y, time, direction) {\n    const bullet = game.add.sprite(0, 0, 'shot');\n    bullet.x = utils.extrapolateOrdinate(x, config.shot.velocity, time);\n    bullet.y = utils.extrapolateOrdinate(y, 0, time);\n\n    game.physics.enable(bullet, Phaser.Physics.ARCADE);\n    bullet.anchor.setTo(0.5, 0.5);\n    bullet.body.setSize(config.shot.diameter, config.shot.diameter);\n\n    bullet.body.allowGravity = false;\n\n    if (direction === 'left') {\n        bullet.body.velocity.x = -config.shot.velocity;\n    } else if (direction === 'right') {\n        bullet.body.velocity.x = config.shot.velocity;\n    }\n};\n\nmodule.exports = PlayState;\n\n\n\n// WEBPACK FOOTER //\n// ./src/public/js/play-state.js","'use strict';\n\nmodule.exports.extrapolateOrdinate = function (oldOrdinate, ordinateVelocity, time) {\n    const currentUnixTime = +(new Date());\n    const timeDifference = (currentUnixTime - time) / 1000;\n    return oldOrdinate + (ordinateVelocity * timeDifference);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/public/js/utils.js","'use strict';\n\nconst activeClass = 'Scoreboard--active';\nlet board;\n\nmodule.exports.init = function () {\n    board = document.getElementById('scoreboard');\n};\n\nmodule.exports.show = function () {\n    board.className += ` ${activeClass}`;\n};\n\nmodule.exports.hide = function () {\n    board.className = board.className.replace(` ${activeClass}`, '');\n};\n\nmodule.exports.addPlayer = function (id) {\n    board.insertAdjacentHTML('beforeend', generateRow(id));\n};\n\nmodule.exports.removePlayer = function (id) {\n    const row = document.getElementById(id);\n    if (row) {\n        row.parentNode.removeChild(row);\n    }\n};\n\nmodule.exports.updatePlayerLatency = function (id, latency) {\n    const row = document.getElementById(id);\n    if (row) {\n        const latencyElement = row.getElementsByClassName('Scoreboard-latency')[0];\n        latencyElement.textContent = latency;\n    }\n};\n\nfunction generateRow(id) {\n    return `<div id=${id} class=\"Scoreboard-row\">\n        <span>${id}</span>\n        <span class=\"Scoreboard-latency\"></span>\n    </div>`;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/public/js/scoreboard.js","'use strict';\n\nconst game = require('./game');\nconst config = require('../../common/config');\nconst client = require('./client');\nconst Health = require('./health');\n\nconst Player = function (playerId) {\n    this.create();\n\n    this.id = playerId;\n    this.facing = 'left';\n    this.moving = '';\n    this.hasDoubleJumped = true;\n};\n\nPlayer.prototype.create = function () {\n    const sprite = game.add.sprite(window.innerWidth - 200, window.innerHeight - config.player.height, 'player');\n\n    sprite.animations.add('move', [0, 1], 10, true);\n\n    game.physics.enable(sprite, Phaser.Physics.ARCADE);\n    sprite.body.collideWorldBounds = true;\n    sprite.body.setSize(config.player.width, config.player.height, 0, 0);\n\n    sprite.anchor.setTo(0.5, 0.5);\n\n    sprite.nextFireTime = 0;\n\n    this.health = new Health();\n    sprite.addChild(this.health.bar);\n\n    this.sprite = sprite;\n};\n\nPlayer.prototype.moveLeft = function () {\n    this.sprite.body.velocity.x = -config.player.velocity;\n\n    this.animateWalking();\n\n    this.faceLeft();\n    this.moving = 'left';\n};\n\nPlayer.prototype.moveRight = function () {\n    this.sprite.body.velocity.x = config.player.velocity;\n\n    this.animateWalking();\n\n    this.faceRight();\n    this.moving = 'right';\n};\n\nPlayer.prototype.animateWalking = function () {\n    if (this.sprite.body.onFloor()) {\n        this.sprite.animations.play('move');\n    } else {\n        this.sprite.animations.stop();\n        this.sprite.animations.frame = 0;\n    }\n};\n\nPlayer.prototype.faceLeft = function () {\n    if (this.facing !== 'left') {\n        this.sprite.scale.x = 1;\n        this.facing = 'left';\n    }\n};\n\nPlayer.prototype.faceRight = function () {\n    if (this.facing !== 'right') {\n        this.sprite.scale.x = -1;\n        this.facing = 'right';\n    }\n};\n\nPlayer.prototype.jump = function () {\n    if (this.sprite.body.onFloor() || !this.hasDoubleJumped) {\n        this.sprite.body.velocity.y -= config.player.velocity;\n        this.hasDoubleJumped = !this.hasDoubleJumped;\n    }\n};\n\nPlayer.prototype.stop = function () {\n    this.moving = '';\n    this.sprite.body.velocity.x = 0;\n    this.sprite.animations.frame = 0;\n    this.sprite.animations.stop();\n};\n\nPlayer.prototype.fire = function () {\n    const currentUnixTime = +(new Date());\n    if (currentUnixTime > this.sprite.nextFireTime) {\n        game.state.getCurrentState().createShot(this.sprite.x, this.sprite.y, currentUnixTime, this.facing);\n\n        this.sprite.nextFireTime = currentUnixTime + config.shot.delay;\n\n        client.transmitShot(this.sprite.x, this.sprite.y, this.facing);\n    }\n};\n\nmodule.exports = Player;\n\n\n\n// WEBPACK FOOTER //\n// ./src/public/js/player.js","'use strict';\n\nconst game = require('./game');\nconst config = require('../../common/config');\n\nfunction Health () {\n    this.points = 100;\n\n    this.bar = game.make.graphics();\n    this.bar.beginFill(this.calculateBarColour());\n    this.bar.drawRect(\n        config.healthBar.x,\n        config.healthBar.y,\n        config.healthBar.width,\n        config.healthBar.height\n    );\n    this.bar.endFill();\n}\n\nHealth.prototype.calculateBarColour = function () {\n    let redComponent = Math.round((100 - this.points) * 2.55);\n    let greenComponent = Math.round(this.points * 2.55);\n    redComponent = redComponent.toString(16);\n    greenComponent = greenComponent.toString(16);\n    redComponent = redComponent.toUpperCase();\n    greenComponent = greenComponent.toUpperCase();\n    return parseInt(`${redComponent}${greenComponent}00`, 16);\n};\n\nmodule.exports = Health;\n\n\n\n// WEBPACK FOOTER //\n// ./src/public/js/health.js"],"sourceRoot":""}